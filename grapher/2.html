<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>F7 — Demo sheet minimale</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/framework7@8.3.4/framework7-bundle.min.css" />
  <style>
    /* requis pour swipe-to-step: la sheet mesure sur son contenu */
    #my-sheet{ height:auto; }
    /* pour que l'état compact soit toujours visible quand ouvert en "stepClose" */
    #my-sheet .sheet-modal-swipe-step{ min-height: 80px; }
    /* petite poignée visible (handle) */
    .swipe-handler{
      height:20px; display:flex; align-items:center; justify-content:center; cursor:ns-resize;
    }
    .swipe-handler::before{
      content:""; width:36px; height:4px; border-radius:2px; background:#999; opacity:.6;
    }
  </style>
</head>
<body>
  <div id="app">
    <div class="view view-main view-init" data-url="/">
      <div class="page">
        <div class="navbar">
          <div class="navbar-bg"></div>
          <div class="navbar-inner">
            <div class="title">Sheet minimal</div>
            <div class="right">
              <a href="#" class="link" id="openSheetLink">Ouvrir</a>
            </div>
          </div>
        </div>
        <div class="page-content">
          <div class="block">
            <p>Démo minimaliste. Clique pour ouvrir la sheet :</p>
            <p><a href="#" class="button button-fill" id="openSheetBtn">Ouvrir la sheet</a></p>
            <p>Lorem ipsum dolor sit amet…</p>
          </div>
        </div>
      </div>
    </div>

    <!-- SHEET MODAL MINIMALE -->
    <div class="sheet-modal" id="my-sheet">
      <!-- poignée pour le swipe -->
      <div class="swipe-handler"></div>

      <div class="sheet-modal-inner">
        <!-- partie visible en "compact" (step fermé) -->
        <div class="sheet-modal-swipe-step">
          <div class="block no-margin">
            <p class="no-margin text-color-gray">Étape compacte — glisse vers le haut pour agrandir ⤴︎</p>
          </div>
        </div>

        <!-- contenu additionnel (visible en step ouvert / plein écran) -->
        <div class="block">
          <p>Contenu plein écran. Glisse vers le bas pour revenir au compact.</p>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/framework7@8.3.4/framework7-bundle.min.js"></script>
  <script>
    // App + sheet minimalistes
    const app = new Framework7({
      el: '#app',
      on: {
        init() {
          // créer la sheet
          const sheet = app.sheet.create({
            el: '#my-sheet',
            swipeToStep: true,         // 2 étapes compact ↔ plein écran
            swipeHandler: '.swipe-handler',
            // Dé-commente si tu veux l'effet "push view"
            // push: true,
          });

          // boutons d'ouverture
          const open = (e)=>{ e && e.preventDefault(); sheet.open(); };
          document.getElementById('openSheetBtn').addEventListener('click', open);
          document.getElementById('openSheetLink').addEventListener('click', open);

          // (facultatif) ouvrir directement en compact :
          // sheet.open(); sheet.stepClose();
        }
      }
    });
  </script>
</body>
</html>
